<html>
<head>
	<title>udevil News</title>
	<!-- <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />  --> 
</head>

<body>

<center>
<br><br><br>
<table cellspacing="0" cellpadding="0" align="center" width="70%">
 <tr> 
	<td>
		<div align="left"><a href="http://ignorantguru.github.com/udevil/" border=0>&lt;&lt;&lt; Homepage</h2></a></div>
	</td>
	<td>
		<div align="center"><a href="http://ignorantguru.github.com/udevil/news.html" border=0><h2>udevil News</h2></a></div>
	</td>
	<td>
		<div align="right"><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=BN2HNPVPS2EFJ"><img style="border:0;" src="donate_button.gif" alt="Make A Donation" /></a><br><small><a href="http://igurublog.wordpress.com/donate/">Tips &amp; Donation Info</a></small></div>
	</td>
</tr></table>
<br>

<table cellspacing="0" cellpadding="10" align="center" width="80%" border=2>
 <tr> 
	<td>
	    
	    


<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.4.0"></a>
<big><b><a href="#0.4.0">0.4.0 released</a></b></big><br>
2013-Feb-11

<br><br>
udevil 0.4.0 includes the following changes:
<ul>
    <li><b>Support for WebDAV has been added</b>, which allows mounting of http:// and https:// URLs via <a href="http://linux.die.net/man/8/mount.davfs">davfs2</a> (a new optional udevil dependency).  To use this support, install davfs2, add "davfs" to allowed_types in <a href="udevil.conf.txt">udevil.conf</a>, and add the following line to udevil.conf if not already present:
    <pre>    default_options_davfs = nosuid, noexec, nodev, uid=$UID, gid=$GID</pre>
    <li>A problem in devmon which caused --exec-on-drive to fail to execute when devmon was used with pmount and without udevil has been corrected in devmon 1.1.5 (included with udevil).<br><br>
    <li>A crash caused by specifying a network fs type without a protocol has been corrected.<br><br>
    <li>udevil now creates /run if needed when creating /run/media/$USER on demand<br><br>
    <li>The provided build-from-source <a href="https://github.com/IgnorantGuru/spacefm/wiki/Debian">Debian packages</a> use a longer mktemp X template to correct problems installing on Ubuntu.<br><br>
    <li><b>The debian/ directory in the source tree has been moved</b> to distros/debian/ to remove conflicts with official Debian packaging (which is reportedly underway).  Please see the updated <a href="https://github.com/IgnorantGuru/udevil/blob/master/README">README</a> file for instructions on creating a deb package.<br><br>
    <li>The SpaceFM Wiki has been updated to include a <a href="https://github.com/IgnorantGuru/spacefm/wiki/Distros">distro information</a> page for both SpaceFM and udevil, allowing packagers and users to keep information for their distro up-to-date.
</ul>

Also, SpaceFM with udevil is now the default file manager in the latest release of <a href="http://sourceforge.net/projects/archpup/">ArchPup</a> (13.2), the new Debian sid-based distro <a href="http://vsido.org/index.php">VSIDO</a>, and will be the new default file manager in the upcoming release of <a href="http://www.slitaz.org/">SliTaz</a>.


<br>
<br>







<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.3.6"></a>
<big><b><a href="#0.3.6">0.3.6 released - <b>UPGRADE RECOMMENDED</b> </a></b></big><br>
2012-Dec-16

<br><br>
<b>A routine review of security policies</b> in udevil has been conducted, and several changes were made to harden udevil against known mount helper exploits:
<ul>
    <li>A potential vulnerability based on a symlink race condition when mounting iso files has been closed.  In theory, this could have allowed an attacker to fashion a custom process to interfere with the filesystem while udevil was checking and mounting the file, resulting in the ability to mount an arbitrary device.  Due to the custom process and precision timing required, the risk from this potential vulnerability being successfully exploited in udevil was low and there are no known implementations of such an attack against udevil.<br><br>
    <li>udevil now places additional restrictions on the mounting of iso files: remounting a file is disallowed, and files are always mounted ro.  These were deemed prudent due to the fact that iso files may be user-owned.<br><br>
    <li>A warning has been added to the default <a href="udevil.conf.txt">udevil.conf</a> file discouraging allowed_devices outside of /dev or in /dev/shm.  If you do want to mount devices elsewhere, be sure their parent directory is owned and writable only by root.<br><br>
    <li>A secondary path canonicalization has been added to harden udevil against general symlink attack methods.  These can potentially impact udevil if udevil.conf is configured in an unsafe way, such as allowing user-owned media or device directories (which udevil.conf warns against).  This enhancement helps protect the system from exploits in such a use case.
</ul>

Due to the above security enhancements, <b>upgrading is recommended</b>.

<p>In addition, <a href="https://github.com/IgnorantGuru/udevil/issues/17">firecat53 contributed</a> <b>an addition to devmon's provided systemd service file</b> which adds a DISPLAY=:0 environment variable for devmon popups.  (systemd is not required or used directly by udevil or devmon - these files are provided for convenience for those wishing to start devmon via systemd.)

<br>
<br>







<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.3.5"></a>
<big><b><a href="#0.3.5">0.3.5 released</a></b></big><br>
2012-Nov-24

<br><br>
<ul>    
    <li>fix ftpfs attempt to mount 'none' if curlftpfs is not installed
    <li>handle mount point trailing spaces
    <li>trim spaces on automatic mount point creation from label
    <li>default udevil.conf now allows type 'file' by default (in allowed_types)
    <li>Russian translation updated - thanks to Vladimir Kudrya and new translator Vladimir Lomov
</ul>

<br>








<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.3.4"></a>
<big><b><a href="#0.3.4">0.3.4 released</a></b></big><br>
2012-Oct-21

<br><br>
<ul>    
    <li>workaround for btrfs moint point detection
    <li>udevil can now be built on debian stable (squeeze)
    <li>by default, systemd service files for the devmon daemon are installed (but not started automatically), or use configure option --disable-systemd  (Thanks to GutenYe for providing these files)
    <li>devmon 1.1.4, included with udevil, can now use spacefm or zenity to show popup dialogs
    <li>SlackBuilds.org now includes <a href="http://slackbuilds.org/system/udevil/">udevil</a> (Thanks to Binh Nguyen for Slackware package maintenance)
</ul>

<br>




<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.3.3"></a>
<big><b><a href="#0.3.3">0.3.3 released</a></b></big><br>
2012-Sep-14

<br><br>
udevil 0.3.3 includes the following changes:
<ul>    
    <li>A problem passing a cifs password due to quoting has been corrected
    <li>most UTF-8 characters are now allowed in options
    <li>The default <a href="udevil.conf.txt">udevil.conf</a> adds utf8 to default_options_iso9660/ntfs/vfat
    <li><a href="http://sourceforge.net/projects/antix-linux/">antiX-12</a> base and full includes spacefm and udevil 
</ul>

<br>




<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.3.2"></a>
<big><b><a href="#0.3.2">0.3.2 released</a></b></big><br>
2012-Aug-15

<br><br>
This maintenance release includes:
<ul>
    <li>udevil now allows <b>unmounting of qualified media which has already been ejected</b> even if there is no user entry in fstab (#6 #7)<br><br>
    <li><b>devmon 1.1.3</b>, included with udevil 0.3.2, <b>automatically unmounts discs when they are ejected</b>, and also cleans udevil mount points when another process unmounts a udevil-mounted device<br><br>
    <li>udevil now accepts a workgroup for smb mounting using the URL form <b>smb://WORKGROUP/user@sys.domain</b><br><br>
    <li>A specified <b>ftp username and password</b> are now passed as an option to curlftpfs<br><br>
    <li>An <b>email address</b> is now acceptable as a network username<br><br>
    <li>The default <a href="udevil.conf.txt">udevil.conf</a> <b>no longer includes option ro in default_options_udf</b>.  (Note that this may cause mount to issue a normal 'mounted read-only' warning when mounting read-only media.)
</ul>

<br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.3.1"></a>
<big><b><a href="#0.3.1">0.3.1 released</a></b></big><br>
2012-Jul-25

<br><br>
udevil is now ready for translation (see <a href="https://github.com/IgnorantGuru/udevil/blob/next/TRANSLATE">TRANSLATE</a>).  Thanks to <b>Vladimir Kudrya</b> for providing an initial <b>Russian translation</b>!

<p>devmon has been updated to 1.1.2.  It will now automatically run 'udevil clean' to <b>remove unused device mount points</b> when a device is removed, in case it is unmounted by other means (udevil clean is only run if udevil is devmon's current mount program in use).

<p>Some fixes for guest mounts on <b>smb</b> are included - udevil will first try a guest mount, then a user mount.

<p><b>ssh</b> now passes any specified port to sshfs, and will specify the current user if none is specified.

<p>A <b>default_options_ntfs</b> line has been added to the default <a href="udevil.conf.txt">udevil.conf</a>

<p>Translation independent numbers have been added to messages.

<br>
<br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="archrepo"></a>
<big><b><a href="#archrepo">udevil in Arch Linux</a></b></big><br>
2012-Jul-13

<br><br>
udevil has been added to the Arch Linux [community] repository (<a href="http://www.archlinux.org/packages/community/i686/udevil/">i686</a> and <a href="http://www.archlinux.org/packages/community/x86_64/udevil/">x86_64</a>).  Much thanks to <a href="http://bpiotrowski.pl/">Bartłomiej Piotrowski</a> for his work packaging udevil and spacefm for Arch!
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.3.0"></a>
<big><b><a href="#0.3.0">0.3.0 released</a></b></big><br>
2012-Jul-13

<br><br>
<ul>
    <li>A problem mounting smb shares caused by the username being quoted has been corrected.
    <li>The mount point name when mounting a network now includes the share path
    <li>option 'flush' is now allowed in the default <a href="udevil.conf.txt">udevil.conf</a>
</ul>
<br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.2.9"></a>
<big><b><a href="#0.2.9">0.2.9 released</a></b></big><br>
2012-Jun-29

<p>udevil can now mount and unmount tmpfs and ramfs filesystems, treating them like removable drives.  To allow this you need to add tmpfs or ramfs to udevil.conf's allowed_types.  Also, see the new default <a href="udevil.conf.txt">udevil.conf</a> and add these lines:
<pre>    default_options_tmpfs = nosuid, noexec, nodev, noatime, uid=$UID, gid=$GID
    default_options_ramfs = nosuid, noexec, nodev, noatime, uid=$UID, gid=$GID</pre>

To make a ram drive:
<pre>    udevil mount tmpfs</pre>

A problem with building a udevil deb package has been corrected, and a problem where mounting with udevil in Parted Magic caused double mtab entries to be added has been corrected.

<p>This update changes some default and allowed options for nfs, cifs, and smbfs in the default <a href="udevil.conf.txt">udevil.conf</a>.

<p>udevil is now included with SpaceFM by default in <a href="http://partedmagic.com/doku.php">Parted Magic</a>.

<p>The upcoming <a href="http://sourceforge.net/projects/antix-linux/">antiX-12</a> base and full will come with SpaceFM and udevil installed.
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.2.8-gentoo"></a>
<big><b><a href="#0.2.8-gentoo">udevil now in Gentoo's portage tree</a></b></big><br>
2012-Jun-17

<p>Gentoo now includes <a href="http://packages.gentoo.org/package/sys-apps/udevil">udevil</a> in its portage tree - thanks to maintainer hasufell and proxy maintainer Armageddon.
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.2.8"></a>
<big><b><a href="#0.2.8">0.2.8 released</a></b></big><br>
2012-Jun-15

<ul>
<li>udevil can now mount ssh:// URLs if sshfs is installed
<li>smb:// URLs are now mounted with fstype cifs by default instead of smbfs.  If upgrading, you may need to add cifs to allowed_fstypes in udevil.conf.  If you prefer smbfs, use smbfs:// or specify -t smbfs
<li>A problem which caused a 'denied' message when adding mount option uid= to the command line has been corrected
<li>the default <a href="udevil.conf.txt">udevil.conf</a> has been updated, adding sshfs options and adding utf8 to cifs 
</ul>
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.2.7"></a>
<big><b><a href="#0.2.7">0.2.7 released</a></b></big><br>
2012-Jun-04

<p>With this update, udevil first tries to mount or unmount devices as the current user earlier under some conditions (such as no mount point specified).  For example, this helps udevil to unmount an optical drive when the media has already been removed (if the device is in fstab).  This means that for devices in fstab, settings in udevil.conf have no effect (since it is like the user running mount or umount directly without udevil).  The comments in the default udevil.conf have been updated to reflect this.

<p>This change also affects how udevil responds when the root user runs it.  root can now unmount any device, and can mount devices in fstab, regardless of udevil.conf settings.  In other cases the root user is still limited by udevil.conf.  (Limitations on the root user in udevil.conf provide no security as the root user can do anything anyway, but allow the admin to set safer uses for the root user using udevil, to prevent accidental use as root.)
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.2.6"></a>
<big><b>0.2.6 released</b></big><br>
2012-Jun-03

<p>This update corrects a problem udevil had canonicalizing some paths which resulted in permission denied mounting some files.  Also, the denied message on an already mounted file has been made more informative to work better with spacefm >0.7.7 when mounting ISO files.
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.2.5"></a>
<big><b>0.2.5 released</b></big><br>
2012-May-30

<p>This update corrects two problems building and installing a debian package
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr><a name="0.2.4"></a>
<big><b>0.2.4 released</b></big><br>
2012-May-28

<p>
<ul>
<li>udevil can now unmount qualified removed devices (in case a device is not unmounted before being unplugged)
<li>devmon 1.1.1 will attempt to unmount a device if removed and still in listed mtab
<li>devmon 1.1.1 will use pmount if installed before reverting to udisks (as udisks is more likely to fail due to 'not authorized' errors and configuration problems)
<li>'Mounted at...' messages are now written to stdout instead of stderr
<li>the <a href="udevil.conf.txt">default udevil.conf</a> now mounts iso9660 & udf with the 'ro' option to prevent read-only warnings from mount
<li>udevil no longer logs 'read config' unless it reads a user-specific conf file (udevil-user-USERNAME.conf)
</ul>
<br>



<!-- --------------------------------------------------------------------- -->
<br><hr>
<big><b>0.2.3 released</b></big><br>
2012-May-27

<p>
<ul>
<li>udevil now creates the directory /run/media/$USER automatically on demand if it is the default allowed media directory, or if the user specifies it as a mount point.  This is due to the fact that /run/media isn't a permanent directory.  /media is still the default in udevil.conf.  If you want only the user who mounted a device to have access to it and be allowed to unmount it, specify /run/media/$USER as the first directory in allowed_media_dirs.
<li>The option --with-setfacl-prog=PATH has been added to configure to allow specifying a custom location for setfacl (used by udevil to set permissions on /run/media/$USER).  You can also specify the location in udevil.conf as setfacl_program=PATH.  If setfacl isn't available or fails, udevil will fall back to 'rwxr-x-r-x' permissions on /run/media/$USER.
<li>The Arch Linux udevil-git AUR package now should not overwrite udevil.conf, creating pacorig or pacsave instead.
<li>Note that when upgrading, the suid bit will be reset on /usr/bin/udevil (even if you unset it).  This change may be prevented in a future release, but for now if you're using udevil without suid, remember to unset it again after upgrading.
</ul>
<br>



<!-- --------------------------------------------------------------------- -->
<br><hr>
<big><b>0.2.2 released</b></big><br>
2012-May-26

<p>This update fixes a problem udevil had stat-ing large IOS files (>2GB) on 32 bit systems, and also adds the ability to specify relative paths for files, devices, and mount points.
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr>
<big><b>0.2.1 released</b></big><br>
2012-May-25

<p>0.2.1 adds an updated version of the devmon automounting daemon, which is now distributed with udevil.  If you already have a devmon package installed, remove it before installing or upgrading udevil.  The udevil packages for Debian and Arch now provide and conflict with 'devmon'.

<p>devmon 1.1.0 adds support for udevil, udisks2, and pmount.  devmon's new requirements:


<ul><table border="1" cellpadding="5" width="80%">
<tr>
	<th>devmon</th>
	<th>With</th>
	<th>Recommends</th>
</tr>
<tr>
    <td valign="top">any version</td>
    <td>udisks1</td>
    <td>zenity</td>
</tr>
<tr>
    <td valign="top"><b>1.1.0 and later</b></td>
    <td>udevil (<a href="http://ignorantguru.github.com/udevil/#post">set suid</a>)</td>
    <td>eject zenity
    <a href="http://ignorantguru.github.com/udevil/#polling">enable polling</a></td>
</tr>
<tr>
    <td valign="top"><b>1.1.0 and later</b></td>
    <td>udevil + udisks1</td>
    <td>eject zenity</td>
</tr>
<tr>
    <td valign="top"><b>1.1.0 and later</b></td>
    <td>udevil + udisks2</td>
    <td>eject zenity</td>
</tr>
<tr>
    <td valign="top"><b>1.1.0 and later</b></td>
    <td>udevil + pmount</td>
    <td>eject zenity
    <a href="http://ignorantguru.github.com/udevil/#polling">enable polling</a></td>
</tr>
</table>
</ul>

udevil or udisks v1 is required for devmon's device monitoring.  devmon cannot be used with only udisks v2 or pmount alone.  For devmon mounting, udevil does not need to be run suid if pmount, udisks v1, or udisks v2 is installed.

<p>devmon's help page is still located <a href="http://igurublog.wordpress.com/downloads/script-devmon/">here</a>.
<br><br>



<!-- --------------------------------------------------------------------- -->
<br><hr>
<big><b>0.2.0 initial release</b></big><br>
2012-May-22

<p>This is a very early release for testing purposes.  Please test this version of udevil carefully before relying on its behavior.  <a href="http://igurublog.wordpress.com/2012/05/22/introducing-udevil-mount-without-password/">See release announcement</a>.
<br><br>



<!-- --------------------------------------------------------------------- -->
<br>






</td></tr></table>
<br><br>
<table cellspacing="0" cellpadding="0" align="center" width="75%">
 <tr> 
	<td>
		<div align="left"><a href="http://ignorantguru.github.com/udevil/">&lt;&lt;&lt; Homepage</a></div>
	</td>
	<td>
		<div align="right"><a href="http://igurublog.wordpress.com/contact-ignorantguru/">Contact</a></div>
	</td>
</tr></table>
<br>
</center>
</body></html>
